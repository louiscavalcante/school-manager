{% extends "layout.html" %} {% block content %}
<div class="card table-container">
	<div class="header">
		<a class="button" href="/students/create">New</a>
		<form action="/students" method="GET">
			<input
				type="text"
				name="filter"
				placeholder="Filter by Name or Email"
				value="{{ filter }}"
			/>
			<button type="submit">Filter</button>
		</form>
	</div>

	<table width="100%">
		<thead>
			<tr>
				<th>Student</th>
				<th>Email</th>
				<th>School Year</th>
				<th>Action</th>
			</tr>
		</thead>

		<tbody>
			{% for student in students %}
			<tr>
				<td>
					<div class="avatar_container">
						<span style="background-image: url({{ student.avatar_url }})"></span> {{
						student.full_name }}
					</div>
				</td>
				<td>{{ student.email }}</td>
				<td>{{ student.school_year }}</td>
				<td><a href="/students/{{ student.id }}">show</a></td>
			</tr>
			{% endfor %}
		</tbody>
	</table>

	<div
		class="pagination"
		data-page="{{ pagination.page }}"
		data-total="{{ pagination.total }}"
		data-filter="{{ filter }}"
	></div>
</div>
{% endblock content %}
